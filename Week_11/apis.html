<script>
  let names = Object.getOwnPropertyNames(window);
  function filterOut(name, props) {
    let set = new Set(props);
    return names.filter((ele) => !set.has(ele));
  }
  // ECMA 262
  {
    let js = [
      "globalThis",
      "console",
      "BigInt",
      "BigInt64Array",
      "BigUint64Array",
      "Infinity",
      "NaN",
      "undefined",
      "eval",
      "isFinite",
      "isNaN",
      "parseFloat",
      "parseInt",
      "decodeURI",
      "decodeURIComponent",
      "encodeURI",
      "encodeURIComponent",
      "Array",
      "Date",
      "RegExp",
      "Promise",
      "Proxy",
      "Map",
      "WeakMap",
      "Set",
      "WeakSet",
      "Function",
      "Boolean",
      "String",
      "Number",
      "Symbol",
      "Object",
      "Error",
      "EvalError",
      "RangeError",
      "ReferenceError",
      "SyntaxError",
      "TypeError",
      "URIError",
      "ArrayBuffer",
      "SharedArrayBuffer",
      "DataView",
      "Float32Array",
      "Float64Array",
      "Int8Array",
      "Int16Array",
      "Int32Array",
      "Uint8Array",
      "Uint16Array",
      "Uint32Array",
      "Uint8ClampedArray",
      "Atomics",
      "JSON",
      "Math",
      "Reflect",
      "escape",
      "unescape",
    ];
    names = filterOut(names, js);
  }
  // subclass of Node
  {
    names = names
      .filter((e) => {
        try {
          return !(window[e].prototype instanceof Node);
        } catch (err) {
          return true;
        }
      })
      .filter((e) => e != "Node");
  }
  {
    // events
    names = names.filter((e) => !e.match(/^on/));
    names = names.filter((e) => !e.match(/^webkit/));
  }

  //https://html.spec.whatwg.org/
  {
    let names = Object.getOwnPropertyNames(window);
    let objects = [
      "ApplicationCache",
      "AudioTrack",
      "AudioTrackList",
      "BarProp",
      "BeforeUnloadEvent",
      "BroadcastChannel",
      "CanvasGradient",
      "CanvasPattern",
      "CanvasRenderingContext2D",
      "CloseEvent",
      "CustomElementRegistry",
      "DOMStringList",
      "DOMStringMap",
      "DataTransfer",
      "DataTransferItem",
      "DataTransferItemList",
      "DedicatedWorkerGlobalScope",
      "Document",
      "DragEvent",
      "ErrorEvent",
      "EventSource",
      "External",
      "FormDataEvent",
      "HTMLAllCollection",
      "HashChangeEvent",
      "History",
      "ImageBitmap",
      "ImageBitmapRenderingContext",
      "ImageData",
      "Location",
      "MediaError",
      "MessageChannel",
      "MessageEvent",
      "MessagePort",
      "MimeType",
      "MimeTypeArray",
      "Navigator",
      "OffscreenCanvas",
      "OffscreenCanvasRenderingContext2D",
      "PageTransitionEvent",
      "Path2D",
      "Plugin",
      "PluginArray",
      "PopStateEvent",
      "PromiseRejectionEvent",
      "RadioNodeList",
      "SharedWorker",
      "SharedWorkerGlobalScope",
      "Storage",
      "StorageEvent",
      "TextMetrics",
      "TextTrack",
      "TextTrackCue",
      "TextTrackCueList",
      "TextTrackList",
      "TimeRanges",
      "TrackEvent",
      "ValidityState",
      "VideoTrack",
      "VideoTrackList",
      "WebSocket",
      "Window",
      "Worker",
      "WorkerGlobalScope",
      "WorkerLocation",
      "WorkerNavigator",
    ];

    names = filterOut(names, objects);
  }
  {
    //http://www.ecma-international.org/ecma-402/5.0/index.html#Title
    names = names.filter((e) => e != "Intl");
  }
  {
    //https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15
    let objects = [
      "WebGLVertexArrayObject",
      "WebGLTransformFeedback",
      "WebGLSync",
      "WebGLSampler",
      "WebGLQuery",
      "WebGL2RenderingContext",
      "WebGLContextEvent",
      "WebGLObject",
      "WebGLBuffer",
      "WebGLFramebuffer",
      "WebGLProgram",
      "WebGLRenderbuffer",
      "WebGLShader",
      "WebGLTexture",
      "WebGLUniformLocation",
      "WebGLActiveInfo",
      "WebGLShaderPrecisionFormat",
      "WebGLRenderingContext",
    ];
    names = filterOut(names, objects);
  }
  {
    //https://www.w3.org/TR/webaudio/
    let audios = [
      "AudioContext",
      "AudioNode",
      "AnalyserNode",
      "AudioBuffer",
      "AudioBufferSourceNode",
      "AudioDestinationNode",
      "AudioParam",
      "AudioListener",
      "AudioWorklet",
      "AudioWorkletGlobalScope",
      "AudioWorkletNode",
      "AudioWorkletProcessor",
      "BiquadFilterNode",
      "ChannelMergerNode",
      "ChannelSplitterNode",
      "ConstantSourceNode",
      "ConvolverNode",
      "DelayNode",
      "DynamicsCompressorNode",
      "GainNode",
      "IIRFilterNode",
      "MediaElementAudioSourceNode",
      "MediaStreamAudioSourceNode",
      "MediaStreamTrackAudioSourceNode",
      "MediaStreamAudioDestinationNode",
      "PannerNode",
      "PeriodicWave",
      "OscillatorNode",
      "StereoPannerNode",
      "WaveShaperNode",
      "ScriptProcessorNode",
      "AudioProcessingEvent",
    ];
    names = filterOut(names, audios);
  }
  {
    //https://encoding.spec.whatwg.org/#dom-textencoder
    let encodes = [
      "TextDecoder",
      "TextEncoder",
      "TextDecoderStream",
      "TextEncoderStream",
    ];
    names = filterOut(names, encodes);
  }
  {
    //https://streams.spec.whatwg.org/#blqs-class
    let objets = [
      "ReadableStream",
      "ReadableStreamDefaultReader",
      "ReadableStreamBYOBReader",
      "ReadableStreamDefaultController",
      "ReadableByteStreamController",
      "ReadableStreamBYOBRequest",
      "WritableStream",
      "WritableStreamDefaultWriter",
      "WritableStreamDefaultController",
      "TransformStream",
      "TransformStreamDefaultController",
      "ByteLengthQueuingStrategy",
      "CountQueuingStrategy",
    ];
    names = filterOut(names, objets);
  }
  {
    //https://wicg.github.io/BackgroundSync/spec/#sync-manager-interface
    names = filterOut(names, ["SyncManager"]);
  }
</script>
